$dark-background-color:       #0e0e0e !default;
$dark-text-color: #bbb !default;

html[data-theme="dark"]  {
  &[data-scroll-status='top'] {
    header.site-header-transparent {
      &.site-header {
        @include media-query($on-laptop) {
          .page-link {
            color: #f8f8f8;
          }
        }
      }
    }

    footer.site-footer {
      .site-footer-inner {
        border-top: solid 1px #2f2f2f !important;
        transition: 0s;
      }
    }
  }

  body {
    color: $dark-text-color;
    background-color: $dark-background-color;
  }

  *:not(pre) > code {
    color: #ffffff !important;
    background-color: #1a202c !important;
    border: 1px solid #2d3748 !important;
  }

  pre {
    background-color: #0f1419 !important;
    border: 1px solid #1a202c !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4) !important;

    > code {
      color: #f7fafc !important;
    }
  }

  .highlighter-rouge {
    pre {
      background-color: #0f1419 !important;
      border: 1px solid #1a202c !important;
      
      code {
        color: #f7fafc !important;
      }
    }
  }

  /* 강제로 코드 블록 스타일 적용 */
  div[class*="language-"] {
    pre {
      background-color: #0f1419 !important;
      border: none !important;
      
      code {
        color: #f7fafc !important;
        background-color: transparent !important;
      }
    }
  }

  /* badge 클래스가 있는 코드 블록 스타일 */
  pre.highlight.badge {
    background-color: #0f1419 !important;
    border: 1px solid #1a202c !important;
    color: #f7fafc !important;
    
    code {
      color: #f7fafc !important;
      background-color: transparent !important;
    }
  }

  /* data-lang 속성이 있는 코드 블록 */
  pre[data-lang] {
    background-color: #0f1419 !important;
    border: 1px solid #1a202c !important;
    color: #f7fafc !important;
    
    code {
      color: #f7fafc !important;
      background-color: transparent !important;
    }
  }

  /* 모든 코드 요소에 대한 강제 스타일 */
  code {
    color: #f7fafc !important;
  }

  pre code {
    color: #f7fafc !important;
    background-color: transparent !important;
  }

  /* XML 코드 블록 특별 처리 */
  .language-xml,
  .language-xml pre,
  .language-xml code,
  pre[data-lang="xml"],
  pre[data-lang="xml"] code {
    background-color: #0f1419 !important;
    color: #f7fafc !important;
    border-color: #1a202c !important;
  }

  /* 모든 언어 코드 블록에 대한 강제 적용 */
  .language-*,
  .language-* pre,
  .language-* code,
  pre[data-lang],
  pre[data-lang] code {
    background-color: #0f1419 !important;
    color: #f7fafc !important;
    border-color: #1a202c !important;
  }

  .language-xml,
  .language-html,
  .language-css,
  .language-scss,
  .language-javascript,
  .language-js,
  .language-typescript,
  .language-ts,
  .language-python,
  .language-py,
  .language-java,
  .language-c,
  .language-cpp,
  .language-csharp,
  .language-cs,
  .language-php,
  .language-ruby,
  .language-rb,
  .language-go,
  .language-rust,
  .language-rs,
  .language-sql,
  .language-bash,
  .language-shell,
  .language-sh,
  .language-yaml,
  .language-yml,
  .language-json,
  .language-markdown,
  .language-md {
    background-color: #0f1419 !important;
    
    pre {
      background-color: #0f1419 !important;
      
      code {
        color: #f7fafc !important;
      }
    }
    
    &::before {
      background: #2d3748 !important;
      color: #ffffff !important;
    }
  }

  /* data-lang 속성이 있는 코드 블록의 언어 표시 배지 */
  pre[data-lang]::before {
    background: #2d3748 !important;
    color: #ffffff !important;
  }

  /* XML 특별 처리 */
  pre[data-lang="xml"]::before {
    background: #2d3748 !important;
    color: #ffffff !important;
  }

  /* 모든 언어에 대한 언어 표시 배지 */
  pre[data-lang*="xml"]::before,
  pre[data-lang*="html"]::before,
  pre[data-lang*="css"]::before,
  pre[data-lang*="javascript"]::before,
  pre[data-lang*="python"]::before,
  pre[data-lang*="java"]::before,
  pre[data-lang*="c"]::before,
  pre[data-lang*="php"]::before,
  pre[data-lang*="ruby"]::before,
  pre[data-lang*="go"]::before,
  pre[data-lang*="rust"]::before,
  pre[data-lang*="sql"]::before,
  pre[data-lang*="bash"]::before,
  pre[data-lang*="yaml"]::before,
  pre[data-lang*="json"]::before,
  pre[data-lang*="markdown"]::before {
    background: #2d3748 !important;
    color: #ffffff !important;
  }



  blockquote {
    border-left: 4px solid #484848;
  }

  table {
    color: #9d9d9d;

    th {
      background-color: #050505;
    }

    tr:nth-child(even) {
      background-color: #080808;
    }
  }

  .site-header {
    background-color: #090909;

    .site-brand {
      .site-brand-inner {
        &, &:visited {
          color: #f8f8f8;
        }
      }
    }

    .site-nav .page-link {
      color: #f8f8f8;
    }

    .ct-language-dropdown {
      color: #f8f8f8;
      background-color: $dark-background-color;
      box-shadow: 0 0 3px 1px #0000005b;
    }

    .ct-language-selected, .ct-language-dropdown li:hover {
      background-color: #222 !important;
    }

    @include media-query($on-laptop) {
      .menu-icon > svg {
          fill: rgba($dark-text-color, 80%);
      }

      .site-nav input:checked ~ .trigger {
        background-color: #090909;
      }
    }
  }

  .site-footer {
    color: #fff;
    background-color: #000;
  }

  .left-vsplit:before {
    background-color: #9a9a9a;
  }

  .page-banner {
    .page-banner-img {
      & > *:first-child {
        opacity: 0.718;
      }
    }
  }

  .pagination {
    .post-link {
      color: $dark-text-color;
    }

    .post-title {
      a:visited:after {
        background-color: $dark-background-color;
      }

      a:after {
        color: $dark-background-color;
      }
    }

    .new-icon {
      color: $dark-background-color;
    }

    .post-list {
      & > li:not(:last-child) {
        border-bottom: 1px solid #545454;
      }
    }

    .post-tags .post-tag:hover {
      color: #d7d7d7;
    }
  }



  .page-segments {
    li {
      a {
        color: #ddd;
      }

      a:visited:after {
        background-color: $dark-background-color;
      }

      a:after {
        color: $dark-background-color;
      }
    }
    .new-icon {
      color: $dark-background-color;
    }
  }

  .post {
    .post-header {
      border-bottom: 1px solid #555;
    }

    .post-content {
      img:not(.emoji):not([raw]) {
        background-color: #ffffff33;
      }
    }
  }

  .post-related {
    & > *:first-child {
      color: #d7d7d7;
    }

    a:visited:after {
      background-color: $dark-background-color;
    }

    a:after {
      color: $dark-background-color;
    }

    a:hover {
      color: #aaa;
    }
  }

  .common-list {
    li {
      border-bottom: solid 1px #40404088;

      a {
        color: #aaa;
      }

      a:hover {
        background-color: #272727;
      }

      span {
        background-color: #333;
      }
    }
  }

  .post-menu {
    .post-menu-title {
      color: #ddd;
    }

    .post-menu-content {
      ul {
        border-left: 1px solid #787878;

        .active {
          background-color: #2d2d2d;
          border-left: 2px solid #aaa;
        }

        a {
          color: $dark-text-color;
        }

        a:hover {
          color: #fff !important;
        }
      }
    }
  }

  .post-tags .post-tag {
    background-color: #2a2a2a;
    color: #999;
    border: 1px solid #404040;

    &:hover {
      background-color: #353535;
      color: #bbb;
      border-color: #505050;
    }
  }

  .post .post-tags .post-tag {
    background-color: #2a2a2a;
    color: #999;
    border: 1px solid #404040;

    &:hover {
      background-color: #353535;
      color: #bbb;
      border-color: #505050;
    }
  }

  /* Footer 링크 색상 톤다운 - 다크모드 */
  .site-footer-inner a {
    color: #9ca3af;
    
    &:hover {
      color: #d1d5db;
    }
  }

  /* Post content links - dark mode */
  .post-content a {
    color: #7d9fc7;
    
    &:hover {
      color: #8fadcf;
      border-bottom-color: #8fadcf;
    }
    
    &:visited {
      color: #9d85a8;
      
      &:hover {
        color: #aa95b5;
        border-bottom-color: #aa95b5;
      }
    }
  }
}

