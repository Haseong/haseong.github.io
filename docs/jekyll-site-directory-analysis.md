# Jekyll _site Directory Analysis

## Overview

The `_site` directory is Jekyll's build output directory where all generated static files are placed after running `bundle exec jekyll build` or `bundle exec jekyll serve`. This directory contains the complete static website ready to be deployed to a web server.

## What Gets Generated in _site

### 1. **Transformed Files**
These files are processed and transformed by Jekyll:

- **Markdown Posts** (`_posts/*.md`) → HTML files organized by date
  - Example: `_posts/2025-02-10-tech-Chain-of-Thought.md` → `_site/tech/2025/02/10/tech-Chain-of-Thought.html`
  
- **SCSS Files** (`assets/css/main.scss`) → Compiled CSS
  - `assets/css/main.scss` → `_site/assets/css/main.css` (with source map)
  
- **Layout Templates** → Applied to content pages
  - Layouts from `_layouts/` are merged with content to create final HTML pages
  
- **Liquid Templates** → Processed and rendered
  - All Liquid tags and variables are replaced with actual values

### 2. **Copied Files**
These files are copied as-is without transformation:

- **Static Assets**
  - Images: All files in `assets/images/` are copied directly
  - JavaScript: `assets/js/main.js` copied without modification
  
- **Root-level Files**
  - `CLAUDE.md` - Documentation files
  - `README.md` - Repository documentation
  - `LICENSE.txt` - License information
  - `jekyll-theme-yat.gemspec` - Theme specification
  - `robots.txt` - SEO directives
  
- **HTML Pages**
  - `404.html` - Error page
  - `about.html` - About page
  - `archives.html` - Archive listing
  - `categories.html` - Category listing
  - `tags.html` - Tag listing
  - `index.html` - Homepage

### 3. **Generated Files**
These files are created by Jekyll and its plugins:

- `feed.xml` - RSS/Atom feed (generated by jekyll-feed plugin)
- `sitemap.xml` - XML sitemap (generated by jekyll-sitemap plugin)
- HTML files for each post with SEO meta tags (jekyll-seo-tag plugin)

## Directory Structure Mapping

```
Source Directory          →  _site Directory
================             ================
_posts/YYYY-MM-DD-*.md   →  /category/YYYY/MM/DD/*.html
_layouts/                →  (merged into HTML pages)
_includes/               →  (merged into HTML pages)
_sass/                   →  /assets/css/main.css
assets/                  →  /assets/ (copied as-is)
*.html (root)           →  /*.html (processed)
*.md (root)             →  /*.md (copied as-is)
```

## File Processing Rules

### Files That Get Processed:
1. **Files with Front Matter** (YAML between `---` markers)
   - Markdown files are converted to HTML
   - HTML files have Liquid templates processed
   
2. **SCSS/Sass Files**
   - Compiled to CSS with optional source maps

### Files That Get Copied:
1. **Static Assets** without front matter
2. **Documentation Files** (like CLAUDE.md)
3. **Configuration Files** that aren't excluded

## Why CLAUDE.md Is in _site

CLAUDE.md appears in the `_site` directory because:

1. **No Front Matter**: The file doesn't have Jekyll front matter (YAML between `---` markers), so Jekyll treats it as a static file
2. **Not Excluded**: It's not listed in the `exclude:` configuration in `_config.yml`
3. **Default Behavior**: Jekyll copies all unprocessed files to maintain project structure

This is actually beneficial as it makes the documentation accessible in the deployed site, though typically you might want to exclude such files in production.

## Excluding Files from _site

To prevent files from being copied to `_site`, add them to `_config.yml`:

```yaml
exclude:
  - CLAUDE.md
  - Gemfile
  - Gemfile.lock
  - node_modules
  - vendor
  - .git
```

## Performance Considerations

The `_site` directory can become large due to:
- High-resolution images (the blog has extensive image assets)
- Duplicate content in different formats
- Historical build artifacts

Best practices:
1. Add `_site/` to `.gitignore` (already done)
2. Clean builds periodically with `bundle exec jekyll clean`
3. Optimize images before adding to `assets/`

## Deployment

The contents of `_site/` are what gets deployed to your web server. Everything needed to run the static website is contained within this directory - no Ruby, Jekyll, or other dependencies are required on the production server.